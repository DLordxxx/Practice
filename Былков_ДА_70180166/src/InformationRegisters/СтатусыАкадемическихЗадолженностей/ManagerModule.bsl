// Обновляет статус задолженности при проведении ведомости
Процедура ОбновитьСтатусПриПроведении(Регистратор, Студент, Дисциплина, Статус) Экспорт
    
    НаборЗаписей = РегистрыСведений.СтатусыАкадемическихЗадолженностей.СоздатьНаборЗаписей();
    НаборЗаписей.Отбор.Студент.Установить(Студент);
    НаборЗаписей.Отбор.Дисциплина.Установить(Дисциплина);
    НаборЗаписей.Прочитать();
    
    // Удаляем все существующие записи для этой комбинации
    Для Каждого Запись Из НаборЗаписей Цикл
        НаборЗаписей.Удалить(Запись);
    КонецЦикла;
    
    // Добавляем новую запись
    Запись = НаборЗаписей.Добавить();
    Запись.Регистратор = Регистратор;
    Запись.Студент = Студент;
    Запись.Дисциплина = Дисциплина;
    Запись.СтатусЗадолженности = Статус;
    Запись.ДатаСтатуса = ТекущаяДата();
    
    НаборЗаписей.Записать();
КонецПроцедуры