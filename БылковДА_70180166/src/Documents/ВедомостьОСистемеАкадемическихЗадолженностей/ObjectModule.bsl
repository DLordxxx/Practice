&НаСервере
Процедура ОбработкаЗаполнения(ДанныеЗаполнения, СтандартнаяОбработка)
    
    Если ТипЗнч(ДанныеЗаполнения) = Тип("ДокументСсылка.ПриказОНазначенииКомиссииПоЛиквидацииЗадолженностей") Тогда
        
        // Получаем объект документа-основания
        ДокументОснование = ДанныеЗаполнения.ПолучитьОбъект();
        
        // Заполняем реквизиты шапки документа вместо табличной части
        ЭтотОбъект.Студент = ДокументОснование.Студент;
        ЭтотОбъект.Преподаватель = ДокументОснование.Преподаватель;
        ЭтотОбъект.Дисциплина = ДокументОснование.Дисциплина;
        
        // Получаем наименование контроля для данной дисциплины
        НаименованиеКонтроля = Неопределено;
        
        Запрос = Новый Запрос;
        Запрос.Текст = 
        "ВЫБРАТЬ
        |	Дисциплины.НаименованиеКонтроля КАК НаименованиеКонтроля
        |ИЗ
        |	Справочник.Дисциплины КАК Дисциплины
        |ГДЕ
        |	Дисциплины.Ссылка = &Дисциплина
        |	И НЕ Дисциплины.ЭтоГруппа";
        
        Запрос.УстановитьПараметр("Дисциплина", ЭтотОбъект.Дисциплина);
        Результат = Запрос.Выполнить();
        
        Если Не Результат.Пустой() Тогда
            Выборка = Результат.Выбрать();
            Если Выборка.Следующий() Тогда
                НаименованиеКонтроля = Выборка.НаименованиеКонтроля;
            КонецЕсли;
        КонецЕсли;
        
        // Заполняем наименование контроля в шапке
        Если ЗначениеЗаполнено(НаименованиеКонтроля) Тогда
            ЭтотОбъект.НаименованиеКонтроля = НаименованиеКонтроля;
        КонецЕсли;
        
    КонецЕсли;
          
КонецПроцедуры

